version: "3.1"

intents:
  - greet
  - goodbye
  - order
  - inform
  - ask_product_info
  - ask_warranty
  - suggest_product
  - ask_order
  - ask_store
  - confirm_order
  - cancel_order
  - out_of_scope
  - nlu_fallback
  - compare_products
  - check_stock

entities:
  - category
  - price
  - brand
  - min_price
  - max_price
  - full_name
  - product
  - product_1
  - product_2
  - quantity
  - order_id
  - variant_name
  - variant_color

slots:
  product:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: product
  variant_name:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: variant_name

  variant_color:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: variant_color
  quantity:
    type: float
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: quantity
  product_1:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: product_1
  product_2:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: product_2

  category:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: category

  price:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: price

  min_price:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: min_price

  max_price:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: max_price
  validated_product_id:
    type: any
    influence_conversation: false
    mappings: []

  validated_variant_id:
    type: any
    influence_conversation: false
    mappings: []

  validated_quantity:
    type: float
    initial_value: null
    influence_conversation: false
    mappings: []
  validated_price:
    type: float
    initial_value: null
    influence_conversation: false
    mappings: []
  validated_total_price:
    type: float
    initial_value: null
    influence_conversation: false
    mappings: []
  validated_address:
    type: text
    mappings:
      - type: from_text
        intent: None

  validated_customer_name:
    type: text
    mappings:
      - type: from_text
        intent: None

  validated_phone:
    type: text
    mappings:
      - type: from_text
        intent: None

  order_id:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: order_id

forms:
  order_form:
    required_slots:
      - product
      - variant_name
      - quantity
  compare_products_form:
    required_slots:
      - product_1
      - product_2

responses:
  utter_ask_product_1:
    - text: "Bạn muốn so sánh sản phẩm nào?"

  utter_ask_product_2:
    - text: "Bạn muốn so sánh với sản phẩm nào?"

  utter_ask_product_name:
    - text: "Bạn muốn đặt sản phẩm gì?"

  utter_ask_quantity:
    - text: "Bạn muốn đặt bao nhiêu sản phẩm?"

  utter_ask_variant_name:
    - text: "Bạn muốn phiên bản nào?"

  utter_greet:
    - text: "Xin chào! Tôi có thể giúp gì cho bạn hôm nay?"

  utter_goodbye:
    - text: "Cảm ơn bạn đã ghé thăm. Hẹn gặp lại!"

  utter_ask_product_info:
    - text: "Bạn muốn xem giá hoặc thông tin của sản phẩm nào ạ?"

  utter_submit_order:
    - text: "Cảm ơn bạn đã cung cấp thông tin. Đơn hàng của bạn đã được ghi nhận và sẽ được xử lý sớm nhất."

  utter_order_confirmed:
    - text: "Đơn hàng của bạn đã được xác nhận! Chúng tôi sẽ liên hệ với bạn sớm để hoàn tất quá trình."

  utter_fallback:
    - text: "Xin lỗi, tôi chưa hiểu ý bạn. Bạn có thể nói lại rõ hơn được không?"

actions:
  - utter_greet
  - utter_goodbye
  - utter_ask_product_info
  - action_provide_product_info
  - action_provide_warranty_info
  - action_provide_store_info
  - utter_ask_product_name
  - utter_ask_quantity
  - utter_ask_variant_name
  - utter_submit_order
  - utter_ask_product_1
  - utter_ask_product_2
  - utter_order_confirmed
  - action_provide_order_info
  - action_suggest_product
  - action_preview_order
  - action_submit_order
  - action_cancel_order
  - action_compare_products
  - action_check_stock
  - utter_fallback
