version: "3.1"

stories:
  # âœ… Story chÃ­nh: Äáº·t hÃ ng Ä‘áº§y Ä‘á»§ tá»« A â†’ Z
  - story: order_full_flow
    steps:
    - intent: greet
    - action: utter_greet

    - intent: ask_product_info
      entities:
        - product: iPhone 16
    - slot_was_set:
        - product: iPhone 16
    - action: action_provide_product_info

    - intent: order
    - action: order_form
    - active_loop: order_form
    - active_loop: null

    - action: action_preview_order
    - action: action_listen  

    - intent: confirm_order
    - action: action_submit_order
    - slot_was_set:
        - product: null
        - variant_name: null
        - quantity: null
    - action: action_listen  

    - intent: goodbye
    - action: utter_goodbye

  # ğŸ“ TrÆ°á»ng há»£p: Äáº·t hÃ ng trá»±c tiáº¿p khÃ´ng há»i trÆ°á»›c (nhanh)
    - story: quick_order_flow
    steps:
      - intent: greet
      - action: utter_greet
      - intent: order
      - action: order_form
      - active_loop: order_form
      - active_loop: null
      - action: action_preview_order
      - action: action_listen 
      - intent: confirm_order
      - action: action_submit_order
      - action: action_listen 
      - intent: goodbye
      - action: utter_goodbye

  # ğŸ“ Há»§y Ä‘Æ¡n sau khi xem preview
  - story: cancel_after_preview
    steps:
      # CÃ³ thá»ƒ báº¯t Ä‘áº§u báº±ng greet -> order hoáº·c chá»‰ order
      - intent: order
      - action: order_form
      - active_loop: order_form
      - active_loop: null
      - action: action_preview_order
      - action: action_listen 
      - intent: cancel_order
      - action: action_cancel_order
      - action: action_listen 
      - intent: goodbye
      - action: utter_goodbye
  # ğŸ“ Há»i thÃ´ng tin Ä‘Æ¡n hÃ ng
  - story: ask_order_info
    steps:
      - intent: greet
      - action: utter_greet

      - intent: ask_order
      - action: action_provide_order_info

      - intent: goodbye
      - action: utter_goodbye

  # ğŸ“ Há»i thÃ´ng tin báº£o hÃ nh
  - story: ask_warranty_info
    steps:
      - intent: greet
      - action: utter_greet

      - intent: ask_warranty
      - action: action_provide_warranty_info

      - intent: goodbye
      - action: utter_goodbye

  # ğŸ“ Há»i thÃ´ng tin cá»­a hÃ ng
  - story: ask_store_info
    steps:
      - intent: greet
      - action: utter_greet

      - intent: ask_store
      - action: action_provide_store_info

      - intent: goodbye
      - action: utter_goodbye

  # ğŸ“ Xá»­ lÃ½ out of scope
  - story: out_of_scope_handling
    steps:
      - intent: greet
      - action: utter_greet

      - intent: out_of_scope
      - action: utter_fallback

      - intent: goodbye
      - action: utter_goodbye

  # ğŸ“ Chá»‰ há»i thÃ´ng tin sáº£n pháº©m
  - story: ask_product_only
    steps:
      - intent: greet
      - action: utter_greet

      - intent: ask_product_info
        entities:
          - product: iPhone 16
      - slot_was_set:
          - product: iPhone 16
      - action: action_provide_product_info

      - intent: goodbye
      - action: utter_goodbye
